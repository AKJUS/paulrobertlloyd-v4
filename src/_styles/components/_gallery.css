.gallery {
  align-items: start;
  display: grid;
  grid-template-columns: 1fr;
  list-style: none;
  overflow: hidden;
  padding-inline-start: 0;

  @media (--from-medium-viewport) {
    grid-template-columns: repeat(var(--columns), 1fr);
  }

  &:has(* + *) {
    --columns: 2;
  }

  &:has(* + * + *) {
    --columns: 3;
  }

  &:has(* + * + * + *) {
    --columns: 4;
  }

  &:not(:has(.screenshot)) {
    gap: var(--space-s);
  }
}
